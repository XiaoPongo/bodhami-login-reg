<div class="dashboard-container">
  <h1 class="welcome">
    Welcome, {{ user?.user_metadata?.firstName || 'Mentor' }}
  </h1>
  <p class="subtitle">Create a new class or manage your existing content.</p>
  <button class="create-btn" (click)="navigateToCreate()" type="button">
    + Create Content
  </button>

  <!-- Original three-box layout from your image -->
  <div class="boxes">
    <div class="box study">
      <i class="fas fa-upload"></i>
      <div>Upload Study Material</div>
      <p>Add documents and notes for your classes.</p>
    </div>
    <div class="box manage" (click)="navigateToManageClasses()">
      <i class="fas fa-users"></i>
      <div>Manage Classes</div>
      <p>Enroll students and generate class codes.</p>
    </div>
    <div class="box top-students-header">
      <i class="fas fa-trophy"></i>
      <div>View Top Students</div>
      <p>See who leads the pack in your classes.</p>
    </div>
  </div>

  <!-- Lower section now only contains the live class list -->
  <div class="lower-section">
    <div class="classes-list">
      <h2>Your Active Classes</h2>
      <div class="scroll-container">
        <!-- This container now uses the live data stream from your API -->
        <ng-container *ngIf="(classes$ | async) as classes; else loading">
          <div *ngIf="classes.length > 0; else noClasses" class="class-grid">
            <div class="class-box" *ngFor="let cls of classes">
              <div class="class-box-header">
                <span class="class-name">{{ cls.name }}</span>
                <span class="class-code">CODE: {{ cls.classCode }}</span>
              </div>
              <p class="class-description">{{ cls.description }}</p>
            </div>
          </div>
          <ng-template #noClasses>
            <div class="empty-state">You have no active classes. Click "Manage Classes" to create one.</div>
          </ng-template>
        </ng-container>
        <ng-template #loading>
          <div class="empty-state">Loading classes...</div>
        </ng-template>
      </div>
    </div>
  </div>
</div>