<div class="class-detail">
  <!-- Header -->
  <div class="detail-header">
    <button class="btn-back" (click)="closed.emit()">
      <i class="fas fa-arrow-left"></i> Back
    </button>
    <h2>{{ classroom.name }}</h2>
    <button class="btn-leave" (click)="leaveClass()">
      <i class="fas fa-sign-out-alt"></i> Leave Class
    </button>
  </div>

  <!-- Error Banner -->
  <div *ngIf="error" class="error-banner">
    <i class="fas fa-exclamation-circle"></i> {{ error }}
  </div>

  <!-- Tabs -->
  <div class="tabs">
    <button
      [class.active]="activeTab === 'materials'"
      (click)="activeTab = 'materials'"
    >
      Materials
    </button>
    <button
      [class.active]="activeTab === 'activities'"
      (click)="activeTab = 'activities'"
    >
      Activities
    </button>
  </div>

  <!-- Materials Tab -->
  <div *ngIf="activeTab === 'materials'" class="tab-content">
    <div *ngIf="!classroom.materials?.length" class="empty">
      No materials available.
    </div>
    <ul *ngIf="classroom.materials?.length">
      <li *ngFor="let m of classroom.materials">
        <i class="fas fa-file"></i>
        {{ m.displayName }} ({{ m.fileType }})
        <button class="btn-action" (click)="downloadMaterial(m)">
          Download
        </button>
      </li>
    </ul>
  </div>

  <!-- Activities Tab -->
  <div *ngIf="activeTab === 'activities'" class="tab-content">
    <div *ngIf="!classroom.activities?.length" class="empty">
      No activities assigned.
    </div>
    <ul *ngIf="classroom.activities?.length">
      <li *ngFor="let a of classroom.activities">
        <i class="fas fa-tasks"></i>
        {{ a.title }} - {{ a.xp }} XP
        <button class="btn-action" (click)="startActivity(a)">
          Start
        </button>
      </li>
    </ul>
  </div>
</div>
